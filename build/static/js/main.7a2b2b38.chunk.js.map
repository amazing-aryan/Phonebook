{"version":3,"sources":["services/phonebook.js","components/Notification.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","status","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","PersonForm","props","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","onClick","addNumber","Persons","personsToShow","map","person","key","name","number","handleClick","Filter","filterValue","handleNewFilter","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterValue","errorMessage","setErrorMessage","setStatus","useEffect","phonebookService","returnedPersons","filter","toLowerCase","includes","event","target","preventDefault","contactObject","findIndex","returnedPerson","concat","msg","setTimeout","catch","error","window","confirm","toString","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a2b2b38.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const promise = axios.get(baseUrl)\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const promise  = axios.post(baseUrl, newObject)\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const promise = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const promise = axios.delete(`${baseUrl}/${id}`)\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React from 'react'\r\n\r\nconst Notification = ({ message, status }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    \r\n    const notificationStyle = {\r\n        color: status ? 'green' : 'red',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n      } \r\n\r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification;","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form>\r\n                <div>name: <input value={props.newName} onChange={props.handleNameChange} /></div>\r\n                <div>number: <input value={props.newNumber} onChange={props.handleNumberChange} /></div>\r\n                <div><button type=\"submit\" onClick={props.addNumber}>add</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Persons = (props) => <div>{props.personsToShow.map(person => {\r\n    return (\r\n        <div key={person.name}>\r\n            {person.name} {person.number}\r\n            <button onClick={() => props.handleClick(person.id, person.name)}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\n)}\r\n</div>\r\n\r\nexport default Persons;","import React, { useState, useEffect } from 'react'\nimport phonebookService from './services/phonebook'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst Filter = (props) => <div> filter shown with <input value={props.filterValue} onChange={props.handleNewFilter} /> </div>\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterValue, setFilterValue] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [status, setStatus] = useState(true)\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(returnedPersons => {\n        setPersons(returnedPersons)\n      })\n  }, [])\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filterValue.toLowerCase()))\n\n  const handleNewFilter = (event) => setFilterValue(event.target.value)\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const contactObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.findIndex(person => person.name === newName) === -1) {\n      phonebookService\n        .create(contactObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          const msg = `Added ${newName}`\n          setStatus(true)\n          setErrorMessage(msg)\n          setTimeout(() => setErrorMessage(null), 5000)\n        })\n        .catch(error => {\n          setStatus(false)\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => setErrorMessage(null), 5000)\n        })\n    } else {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const sid = persons.filter(person => person.name === newName).map(person => person.id).toString()\n        const id = sid\n        phonebookService\n          .update(id, contactObject)\n          .then(returnedPerson => {\n            const newPersons = persons.filter(person => person.id !== id).concat(returnedPerson)\n            setPersons(newPersons)\n            const msg = `Changed ${newName}'s number`\n            setStatus(true)\n            setErrorMessage(msg)\n            setTimeout(() => setErrorMessage(null), 5000)\n          })\n          .catch(error => {\n          setStatus(false)\n          setErrorMessage(error.toString())\n          setTimeout(() => setErrorMessage(null), 5000)\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Delete ${name}`)) {\n      phonebookService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n      const msg = `Deleted ${name}`\n      setStatus(true)\n      setErrorMessage(msg)\n      setTimeout(() => setErrorMessage(null), 5000)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} status={status} />\n      <Filter filterValue={filterValue} handleNewFilter={handleNewFilter} />\n      <h3>Add a new</h3>\n      <PersonForm newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} addNumber={addNumber} />\n      <h3>Numbers</h3>\n      <Persons personsToShow={personsToShow} handleClick={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}